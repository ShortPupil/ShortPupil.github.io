---
title: 四、数据仓库中的粒度
date: 2019-04-13 20:55:06
tags: [BI, Data Warehouse]
categories: 商务智能
copyright: true
---

# 目录

@[toc]



## 《Building the Data Warehouse》第四章 粒度



数据仓库开发者要解决的重要的设计问题是**粒度确定**。

### 粗略估算

**起点**——粗略估算数据仓库中将来的数据行数和所需DASD（直接存取存储设备）数——关于**数量级**的估计。

**例子**

估计数据仓库环境中的行数/空间大小

1. 对每一个已知的表：

   ​	计算一行所占字节数的

   ​		最大估计值

   ​		最小估计值

   对一年内：

   ​	最大行数可能是多少？

   ​	最小行数可能是多少？

   对五年内：

   ​	最大行数可能是多少？

   ​	最小行数可能是多少？

   对表的每个键码：

   ​	该键码的大小（按字节）是多少；

   ​	一年总的最大空间=最大行大小 * 一年内最大行数

   ​	一年总的最小空间=最小行大小 * 一年内最小行数

   ​	累加索引空间

2. 对所有已知的表重复第1步



### 粒度划分过程的输入

**估计的行数**和**DASD数**作为粒度划分过程的输入

#### 空间估算、行估算

- 需要多少DASD？排序的引导时间估计是多少？
- 需要双重粒度吗？



### 选择双重还是单一的粒度

![](https://raw.githubusercontent.com/ShortPupil/ShortPupil.github.io/hexo/source/_posts/pictures/截图20190413212024.png)



### 确定粒度的级别

对于轻度汇总的数据要确定合适的粒度级别，唯一可行的方法是将数据拿到最终用户面前。

![](https://raw.githubusercontent.com/ShortPupil/ShortPupil.github.io/hexo/source/_posts/pictures/截图20190413212918.png)



### 反馈循环技巧（不是很懂）



### 粒度级别——银行环境

