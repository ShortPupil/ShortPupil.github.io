---
title: 设计模式(8) 两阶段终止模式 （Two-Phase Termination Patter）
tags:
  - design pattern
categories: 软件设计
copyright: false
abbrlink: 34140c88
date: 2018-12-02 09:04:24
---

# 目录

<!-- toc -->



# 场景

- 当我们想要结束一个线程或者关闭jvm的时候，通过此模式可以优雅安全的关闭线程，让线程可以完成它本应完成的当前任务并可以附加一些收尾工作后再进行关闭
- 此模式下关闭线程会有一定延迟，主要在于被关闭线程需要执行完后，再进行关闭
- 首先Java jdk中并没有关于安全的直接的停止线程的Api 我知道你想到了Interrupt。Interrupt快速解读传送门 http://blog.csdn.net/crazyzxljing0621/article/details/56666418

此模式的设计，就是线程中不断对一个参数进行验证，满足条件时线程跳出并执行结束后的收尾工作，最后安全关闭。


